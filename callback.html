<script>
    const urlParams = new URLSearchParams(window.location.search);
    const code = urlParams.get("code");

    if (code) {
        fetch(`https://github.com/login/oauth/access_token?client_id=你的GitHub应用ID&client_secret=你的GitHub应用Secret&code=${code}`, {
            method: "POST",
            headers: { "Accept": "application/json" }
        })
        .then(response => response.json())
        .then(data => {
            if (data.access_token) {
                localStorage.setItem("github_token", data.access_token);
                window.location.href = "dashboard.html"; 
            }
        });
    }
</script>
